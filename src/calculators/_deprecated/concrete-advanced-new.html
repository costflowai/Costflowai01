<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://www.googletagmanager.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self'; connect-src 'self';">
    <title>Advanced Concrete Calculator - Professional ROM Estimator | CostFlowAI</title>
    <meta name="description" content="Professional-grade concrete calculator with advanced mix specifications, additives, reinforcement options, and finishing types. Free ROM estimates for contractors and professionals." />
    <link rel="canonical" href="https://costflowai.com/calculators/concrete-advanced" />
    <link rel="stylesheet" href="/assets/css/main.css" />
    <link rel="stylesheet" href="/assets/css/calculator.css" />
    
    <style>
        .calc-container { max-width: 1200px; margin: 0 auto; padding: 1rem; }
        .spec-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1rem 0; }
        .spec-group { background: #f8f9fa; padding: 1rem; border-radius: 8px; border: 1px solid #e9ecef; }
        .spec-group h4 { margin: 0 0 0.5rem 0; color: #495057; font-size: 0.9rem; }
        .checkbox-group { display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }
        .checkbox-item { display: flex; align-items: center; gap: 0.25rem; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem; }
        .result-card { background: white; border: 1px solid #dee2e6; border-radius: 8px; padding: 1rem; }
        .result-card h4 { margin: 0 0 0.5rem 0; color: #343a40; border-bottom: 1px solid #dee2e6; padding-bottom: 0.5rem; }
        .input-section { margin-bottom: 2rem; }
        .input-section h3 { color: #0369a1; margin-bottom: 1rem; }
        .total-section { background: linear-gradient(135deg, #e0f2fe, #f0f9ff); border: 2px solid #0369a1; border-radius: 12px; padding: 2rem; margin: 2rem 0; text-align: center; }
        .total-amount { font-size: 2rem; font-weight: bold; color: #0369a1; }
        .breakdown-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #eee; }
        .breakdown-row:last-child { border-bottom: none; }
        .calc-actions { display: flex; gap: 1rem; justify-content: center; margin: 2rem 0; }
        .btn-primary { background: #0369a1; color: white; padding: 1rem 2rem; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .btn-secondary { background: #6b7280; color: white; padding: 1rem 2rem; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .btn-primary:hover { background: #0c4a6e; }
        .btn-secondary:hover { background: #4b5563; }
        .rom-disclaimer { background: #fff3cd; border: 1px solid #ffeaa7; padding: 1rem; border-radius: 8px; margin: 2rem 0; }
        .rom-disclaimer h5 { color: #856404; margin-bottom: 0.5rem; }
        .rom-disclaimer p { color: #856404; margin: 0; font-size: 0.9rem; }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <a href="/" class="logo">CostFlowAI</a>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="/calculators/">Calculators</a></li>
                <li><a href="/blog/">Blog</a></li>
            </ul>
        </nav>
    </header>

    <main class="calc-container">
        <div class="calc-header">
            <h1>üèóÔ∏è Advanced Concrete Calculator</h1>
            <p>Professional-grade concrete estimator with advanced specifications, additives, and finishing options. Get detailed ROM estimates with full cost breakdowns.</p>
        </div>

        <div class="calc-inputs">
            <div class="input-section">
                <h3>üìê Dimensions</h3>
                <div class="spec-grid">
                    <div class="spec-group">
                        <h4>Length (ft)</h4>
                        <input type="number" id="length" value="20" min="1" step="0.1">
                    </div>
                    <div class="spec-group">
                        <h4>Width (ft)</h4>
                        <input type="number" id="width" value="10" min="1" step="0.1">
                    </div>
                    <div class="spec-group">
                        <h4>Thickness (inches)</h4>
                        <input type="number" id="thickness" value="4" min="1" step="0.25">
                    </div>
                    <div class="spec-group">
                        <h4>Shape</h4>
                        <select id="shape">
                            <option value="rectangular">Rectangular</option>
                            <option value="circular">Circular</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="input-section">
                <h3>üß™ Mix Specifications</h3>
                <div class="spec-grid">
                    <div class="spec-group">
                        <h4>PSI Strength</h4>
                        <select id="psi">
                            <option value="2500">2500 PSI</option>
                            <option value="3000" selected>3000 PSI</option>
                            <option value="3500">3500 PSI</option>
                            <option value="4000">4000 PSI</option>
                            <option value="4500">4500 PSI</option>
                            <option value="5000">5000 PSI</option>
                            <option value="6000">6000 PSI</option>
                        </select>
                    </div>
                    <div class="spec-group">
                        <h4>Slump (inches)</h4>
                        <select id="slump">
                            <option value="2">2"</option>
                            <option value="3">3"</option>
                            <option value="4" selected>4"</option>
                            <option value="5">5"</option>
                            <option value="6">6"</option>
                        </select>
                    </div>
                    <div class="spec-group">
                        <h4>Aggregate Type</h4>
                        <select id="aggregate">
                            <option value="standard" selected>Standard</option>
                            <option value="lightweight">Lightweight</option>
                            <option value="heavyweight">Heavyweight</option>
                        </select>
                    </div>
                </div>
                
                <h4>üî¨ Additives</h4>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="fly_ash">
                        <label for="fly_ash">Fly Ash (+$5/yd¬≥)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="silica_fume">
                        <label for="silica_fume">Silica Fume (+$15/yd¬≥)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="fiber_mesh">
                        <label for="fiber_mesh">Fiber Mesh (+$8/yd¬≥)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="accelerator">
                        <label for="accelerator">Accelerator (+$12/yd¬≥)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="retarder">
                        <label for="retarder">Retarder (+$8/yd¬≥)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="plasticizer">
                        <label for="plasticizer">Plasticizer (+$6/yd¬≥)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="air_entraining">
                        <label for="air_entraining">Air Entraining (+$4/yd¬≥)</label>
                    </div>
                </div>
            </div>

            <div class="input-section">
                <h3>üîó Reinforcement</h3>
                <div class="spec-grid">
                    <div class="spec-group">
                        <h4>Rebar Type</h4>
                        <select id="rebar-type">
                            <option value="none">None</option>
                            <option value="light">Light</option>
                            <option value="standard" selected>Standard</option>
                            <option value="heavy">Heavy</option>
                            <option value="structural">Structural</option>
                        </select>
                    </div>
                    <div class="spec-group">
                        <h4>Spacing (inches)</h4>
                        <input type="number" id="spacing" value="18" min="6" max="48">
                    </div>
                    <div class="spec-group">
                        <h4>Grade</h4>
                        <select id="grade">
                            <option value="40">Grade 40</option>
                            <option value="60" selected>Grade 60</option>
                            <option value="75">Grade 75</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="input-section">
                <h3>‚ú® Finishing & Options</h3>
                <div class="spec-grid">
                    <div class="spec-group">
                        <h4>Finishing Type</h4>
                        <select id="finishing">
                            <option value="broom" selected>Broom Finish</option>
                            <option value="float">Float Finish</option>
                            <option value="trowel">Trowel Finish</option>
                            <option value="stamped">Stamped Concrete</option>
                            <option value="polished">Polished Finish</option>
                            <option value="exposed_aggregate">Exposed Aggregate</option>
                        </select>
                    </div>
                    <div class="spec-group">
                        <h4>Region</h4>
                        <select id="region">
                            <option value="national" selected>National Average</option>
                            <option value="west_coast">West Coast</option>
                            <option value="northeast">Northeast</option>
                            <option value="southeast">Southeast</option>
                            <option value="midwest">Midwest</option>
                            <option value="southwest">Southwest</option>
                            <option value="mountain">Mountain States</option>
                        </select>
                    </div>
                    <div class="spec-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="edging">
                            <label for="edging">Add Edging ($8/linear ft)</label>
                        </div>
                    </div>
                    <div class="spec-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="sealing">
                            <label for="sealing">Add Sealing ($0.75/sq ft)</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-actions">
                <button onclick="calculateAdvancedConcrete()" class="btn-primary">Calculate Advanced Estimate</button>
                <button onclick="clearForm()" class="btn-secondary">Clear Form</button>
            </div>
        </div>

        <div class="calc-results" id="results" style="display: none;">
            <h3>üìä Professional Estimate Results</h3>
            
            <div class="total-section">
                <div class="total-amount" id="total">$0</div>
                <p>Total Project Cost</p>
            </div>

            <div class="results-grid">
                <div class="result-card">
                    <h4>üì¶ Volume Requirements</h4>
                    <div id="volume-details"></div>
                </div>
                
                <div class="result-card">
                    <h4>üí∞ Cost Breakdown</h4>
                    <div id="breakdown-details"></div>
                </div>
                
                <div class="result-card">
                    <h4>üìã Specifications</h4>
                    <div id="spec-details"></div>
                </div>
                
                <div class="result-card">
                    <h4>‚ö†Ô∏è Assumptions</h4>
                    <div id="assumptions"></div>
                </div>
            </div>

            <div class="rom-disclaimer">
                <h5>‚ö†Ô∏è Important ROM Disclaimer</h5>
                <p><strong>These are Rough Order of Magnitude (ROM) estimates only.</strong> Actual costs may vary significantly based on site conditions, local labor rates, material availability, and project complexity. Always obtain detailed quotes from licensed contractors before making construction decisions.</p>
            </div>

            <div class="calc-actions">
                <button onclick="saveCalculation()" class="btn-secondary">Save Results</button>
                <button onclick="exportResults()" class="btn-secondary">Export CSV</button>
                <button onclick="shareResults()" class="btn-secondary">Share Link</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 CostFlowAI. All rights reserved.</p>
        </div>
    </footer>

    <script src="/assets/js/calculators.js" defer></script>
    <script>
        function calculateAdvancedConcrete() {
            // Get dimensions
            const dimensions = {
                length: parseFloat(document.getElementById('length').value),
                width: parseFloat(document.getElementById('width').value),
                thickness: parseFloat(document.getElementById('thickness').value),
                shape: document.getElementById('shape').value
            };

            // Get additives
            const additives = [];
            ['fly_ash', 'silica_fume', 'fiber_mesh', 'accelerator', 'retarder', 'plasticizer', 'air_entraining'].forEach(id => {
                if (document.getElementById(id).checked) {
                    additives.push(id);
                }
            });

            const mixSpecs = {
                psi: parseInt(document.getElementById('psi').value),
                slump: parseInt(document.getElementById('slump').value),
                aggregate: document.getElementById('aggregate').value,
                additives: additives
            };

            const reinforcement = {
                type: document.getElementById('rebar-type').value,
                spacing: parseInt(document.getElementById('spacing').value),
                grade: parseInt(document.getElementById('grade').value)
            };

            const additionalSpecs = {
                finishing: document.getElementById('finishing').value,
                edging: document.getElementById('edging').checked,
                sealing: document.getElementById('sealing').checked,
                region: document.getElementById('region').value
            };

            try {
                // Use the advanced calculator from the API
                const results = CostFlowCalculators.concreteAdvanced.calculate(dimensions, mixSpecs, reinforcement, additionalSpecs);
                displayResults(results);
            } catch (error) {
                alert('Calculation error: ' + error.message);
                console.error('Calculator error:', error);
            }
        }

        function displayResults(results) {
            document.getElementById('results').style.display = 'block';
            document.getElementById('total').textContent = formatCurrency(results.total);

            // Volume details
            document.getElementById('volume-details').innerHTML = `
                <div class="breakdown-row"><span>Square Feet:</span><span>${results.volume.squareFeet} sq ft</span></div>
                <div class="breakdown-row"><span>Cubic Feet:</span><span>${results.volume.cubicFeet} cu ft</span></div>
                <div class="breakdown-row"><span>Cubic Yards:</span><span>${results.volume.cubicYards} cu yd</span></div>
                <div class="breakdown-row"><span>Order Quantity:</span><span>${results.volume.orderedYards} cu yd</span></div>
            `;

            // Cost breakdown
            let breakdownHTML = '';
            for (const [key, value] of Object.entries(results.breakdown)) {
                const label = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
                breakdownHTML += `<div class="breakdown-row"><span>${label}:</span><span>${formatCurrency(value)}</span></div>`;
            }
            document.getElementById('breakdown-details').innerHTML = breakdownHTML;

            // Specifications
            let specHTML = '';
            for (const [key, value] of Object.entries(results.specifications)) {
                const label = key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
                specHTML += `<div class="breakdown-row"><span>${label}:</span><span>${value}</span></div>`;
            }
            document.getElementById('spec-details').innerHTML = specHTML;

            // Assumptions
            document.getElementById('assumptions').innerHTML = results.assumptions.map(assumption => 
                `<div>‚Ä¢ ${assumption}</div>`
            ).join('');

            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }

        function clearForm() {
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.value = input.getAttribute('value') || '';
            });
            document.querySelectorAll('input[type="checkbox"]').forEach(input => {
                input.checked = false;
            });
            document.querySelectorAll('select').forEach(select => {
                select.selectedIndex = 0;
            });
            document.getElementById('results').style.display = 'none';
        }

        function saveCalculation() {
            alert('Save feature coming soon!');
        }

        function exportResults() {
            alert('Export feature coming soon!');
        }

        function shareResults() {
            alert('Share feature coming soon!');
        }

        // Auto-calculate on input changes
        document.querySelectorAll('input, select').forEach(element => {
            element.addEventListener('change', () => {
                const length = document.getElementById('length').value;
                const width = document.getElementById('width').value;
                const thickness = document.getElementById('thickness').value;
                
                if (length && width && thickness) {
                    setTimeout(calculateAdvancedConcrete, 100);
                }
            });
        });

        // Initialize with default calculation
        window.addEventListener('load', () => {
            setTimeout(calculateAdvancedConcrete, 500);
        });
    </script>
<script defer>
    document.getElementById('btn-print')?.addEventListener('click', () => window.print());
</script>
</body>
</html>