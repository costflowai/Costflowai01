<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;">
  <title>Labor Crew Calculator - Optimization & Costs | CostFlowAI</title>
  <meta name="description" content="Optimize crew sizes, calculate overtime costs, and analyze burden rates. Professional labor cost analysis for construction projects.">
  <link rel="canonical" href="https://costflowai.com/calculators/labor-crew.html">
  <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print">
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://www.google-analytics.com">
  <style>
    .calc-container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
    .calc-header { text-align: center; margin-bottom: 2rem; }
    .quick-actions { display: flex; gap: 1rem; justify-content: center; margin: 1rem 0; }
    .calc-body { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
    .input-section { background: #f7fafc; padding: 1.5rem; border-radius: 8px; }
    .results-section { background: white; border: 2px solid #e2e8f0; padding: 1.5rem; border-radius: 8px; }
    .input-group { margin-bottom: 1rem; }
    .input-group label { display: block; font-weight: 600; margin-bottom: 0.25rem; }
    .input-group input, .input-group select { width: 100%; padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 4px; }
    .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 4px; cursor: pointer; margin: 0.25rem; }
    .btn-primary { background: #ff6b35; color: white; }
    .btn-secondary { background: #e2e8f0; }
    .result-primary { font-size: 2rem; font-weight: bold; color: #1e3a5f; }
    .breakdown-table { width: 100%; margin-top: 1rem; }
    .breakdown-table td { padding: 0.5rem; border-bottom: 1px solid #e2e8f0; }
    .disclaimer { background: #fff5f5; border-left: 3px solid #ff6b35; padding: 1rem; margin-top: 2rem; }
    .comparison-section { background: #f0f9ff; padding: 1rem; border-radius: 8px; margin-top: 1rem; }
    @media (max-width: 768px) { .calc-body { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
<header>
    <nav class="nav" role="navigation" aria-label="Main navigation">
        <a href="/">Home</a>
        <a href="/calculators/">Calculators</a>
        <a href="/blog/">Blog</a>
        <a href="/#contact">Contact</a>
        <a href="/#contact">💬 Feedback</a>
    </nav>
    
    <div class="header">
        <h1>👷 Labor Crew Calculator</h1>
        <p>Optimize crew size, calculate burden rates, and compare overtime vs additional workers</p>
    </div>
</header>

<main>
  <div class="calc-container" id="labor-calc" data-calc="labor">
      <div class="quick-actions">
        <button class="btn btn-secondary" onclick="loadDefaults('union')">Union Defaults</button>
        <button class="btn btn-secondary" onclick="loadDefaults('nonunion')">Non-Union Defaults</button>
        <button class="btn btn-secondary" onclick="loadLastUsed()">Load Last Used</button>
      </div>
    </div>

    <div class="calc-body">
      <div class="input-section">
        <h3>Project Specifications</h3>
        
        <!-- Trade Selection -->
        <div class="input-group">
          <label>Trade</label>
          <select id="trade" onchange="updateBaseRate()">
            <option value="carpenter">Carpenter ($32/hr)</option>
            <option value="electrician">Electrician ($38/hr)</option>
            <option value="plumber">Plumber ($36/hr)</option>
            <option value="hvac">HVAC Tech ($34/hr)</option>
            <option value="concrete">Concrete Finisher ($30/hr)</option>
            <option value="roofer">Roofer ($28/hr)</option>
            <option value="drywall">Drywall Installer ($26/hr)</option>
            <option value="painter">Painter ($24/hr)</option>
            <option value="flooring">Flooring Installer ($28/hr)</option>
            <option value="masonry">Mason ($32/hr)</option>
            <option value="steel">Steel Worker ($35/hr)</option>
            <option value="glazier">Glazier ($30/hr)</option>
            <option value="insulation">Insulation Installer ($24/hr)</option>
            <option value="tile">Tile Setter ($30/hr)</option>
            <option value="laborer">General Laborer ($20/hr)</option>
          </select>
        </div>

        <!-- Project Parameters -->
        <div class="input-group">
          <label>Total Labor Hours Required</label>
          <input type="number" id="totalHours" value="400" min="1">
        </div>
        
        <div class="input-group">
          <label>Target Timeline (working days)</label>
          <input type="number" id="timeline" value="10" min="1">
        </div>

        <!-- Labor Parameters -->
        <div class="input-group">
          <label>Union or Non-Union</label>
          <select id="unionStatus" onchange="updateRates()">
            <option value="nonunion">Non-Union</option>
            <option value="union">Union (+25% base rate)</option>
          </select>
        </div>

        <div class="input-group">
          <label>Productivity Factor</label>
          <select id="productivity">
            <option value="0.7">Poor Conditions (70%)</option>
            <option value="0.85">Average Conditions (85%)</option>
            <option value="1.0" selected>Good Conditions (100%)</option>
            <option value="1.15">Excellent Conditions (115%)</option>
          </select>
        </div>

        <div class="input-group">
          <label>Learning Curve Factor</label>
          <select id="learningCurve">
            <option value="0.9">New to Task (90%)</option>
            <option value="1.0" selected>Experienced (100%)</option>
            <option value="1.1">Highly Experienced (110%)</option>
            <option value="1.2">Expert/Repetitive (120%)</option>
          </select>
        </div>

        <!-- Burden Rate Inputs -->
        <div class="input-group">
          <label>FICA Rate (%)</label>
          <input type="number" id="ficaRate" value="7.65" step="0.01" min="0">
        </div>

        <div class="input-group">
          <label>FUTA/SUTA Rate (%)</label>
          <input type="number" id="unemploymentRate" value="3.5" step="0.1" min="0">
        </div>

        <div class="input-group">
          <label>Workers' Comp Rate (%)</label>
          <input type="number" id="workersCompRate" value="8.0" step="0.1" min="0">
        </div>

        <div class="input-group">
          <label>General Liability Rate (%)</label>
          <input type="number" id="liabilityRate" value="2.0" step="0.1" min="0">
        </div>

        <button class="btn btn-primary" onclick="calculate()" data-action="calculate" style="width: 100%; margin-top: 1rem;">Optimize Crew</button>
      </div>

      <div class="results-section">
        <h3>Crew Optimization Results</h3>
        
        <div style="text-align: center; padding: 1rem; background: #f7fafc; border-radius: 8px;">
          <div>Optimal Crew Size</div>
          <div class="result-primary" id="optimalCrew">0 workers</div>
          <div style="color: #718096;" id="crewDetails">0 hours per worker per day</div>
        </div>

        <div style="text-align: center; padding: 1rem; margin-top: 1rem; background: #fff5f5; border-radius: 8px;">
          <div>Total Project Cost</div>
          <div class="result-primary" id="totalCost">$0</div>
          <div style="color: #718096;">Fully burdened labor cost</div>
        </div>

        <h4 style="margin-top: 1.5rem;">Rate Breakdown</h4>
        <table class="breakdown-table">
          <tr><td>Base Hourly Rate</td><td align="right" id="baseRate">$0</td></tr>
          <tr><td>Union Premium</td><td align="right" id="unionPremium">$0</td></tr>
          <tr><td>FICA (7.65%)</td><td align="right" id="ficaCost">$0</td></tr>
          <tr><td>FUTA/SUTA</td><td align="right" id="unemploymentCost">$0</td></tr>
          <tr><td>Workers' Comp</td><td align="right" id="workersCompCost">$0</td></tr>
          <tr><td>General Liability</td><td align="right" id="liabilityCost">$0</td></tr>
          <tr style="border-top: 2px solid #1e3a5f;"><td><strong>Fully Burdened Rate</strong></td><td align="right" id="burdenedRate"><strong>$0</strong></td></tr>
        </table>

        <div class="comparison-section">
          <h4>Overtime vs Additional Workers</h4>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div>
              <strong>Current Crew + Overtime</strong>
              <div id="overtimeOption">Cost calculation...</div>
            </div>
            <div>
              <strong>Additional Workers</strong>
              <div id="additionalWorkerOption">Cost calculation...</div>
            </div>
          </div>
          <div style="margin-top: 1rem; font-weight: bold;" id="recommendation">Recommendation will appear here...</div>
        </div>

        <h4 style="margin-top: 1.5rem;">Productivity Adjustments</h4>
        <ul id="productivityDetails" style="color: #718096;">
          <li>Effective productivity: <span id="effectiveProductivity">100%</span></li>
          <li>Adjusted hours needed: <span id="adjustedHours">0</span></li>
          <li>Daily crew hours: <span id="dailyCrewHours">0</span></li>
        </ul>

        <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
          <button class="btn btn-primary" onclick="saveCalculation()" data-action="save">💾 Save</button>
          <button class="btn btn-secondary" onclick="exportCrewSchedule()" data-action="export">📊 Export Schedule</button>
          <button class="btn btn-secondary" onclick="shareCalculation()">🔗 Share</button>
          <button class="btn btn-secondary" onclick="window.print()" data-action="print">🖨️ Print</button>
        </div>
      </div>
    </div>

    <div class="disclaimer">
      <strong>⚠️ Important:</strong> This provides rough order of magnitude (ROM) estimates only. Actual labor costs vary by location, union agreements, and specific project requirements. Always verify with current local rates.
    </div>

    <details style="margin-top: 2rem; padding: 1rem; background: #f7fafc; border-radius: 8px;">
      <summary style="cursor: pointer; font-weight: bold;">📐 Calculation Methodology</summary>
      <div style="margin-top: 1rem;">
        <h4>Optimization Algorithm:</h4>
        <ul>
          <li><strong>Optimal Crew Size:</strong> Total Adjusted Hours ÷ (Timeline × 8 hours/day)</li>
          <li><strong>Burden Rate:</strong> Base Rate × (1 + FICA + FUTA + WC + GL percentages)</li>
          <li><strong>Productivity Adjustment:</strong> Base Hours ÷ (Productivity × Learning Curve)</li>
          <li><strong>Overtime vs Additional Workers:</strong> Compares 1.5x rate for overtime vs standard rate for new workers</li>
        </ul>
      </div>
    </details>
  </div>

  <script src="/assets/js/calculator-core.js" defer></script>
  <script src="/assets/js/calculators.js" defer></script>
  <script src="/assets/js/export-utilities.js" defer></script>
  <script src="/assets/js/calculators-hub.js" defer></script>
  <script>
    const calc = new ProCalculator('labor-crew');
    
    // Labor rate data structure
    const laborData = {
      baseRates: {
        carpenter: 32, electrician: 38, plumber: 36, hvac: 34, concrete: 30,
        roofer: 28, drywall: 26, painter: 24, flooring: 28, masonry: 32,
        steel: 35, glazier: 30, insulation: 24, tile: 30, laborer: 20
      },
      unionPremium: 0.25, // 25% premium for union
      standardWorkDay: 8,
      overtimeMultiplier: 1.5
    };

    function calculate() {
      // Get all inputs
      const trade = document.getElementById('trade').value;
      const totalHours = parseFloat(document.getElementById('totalHours').value) || 0;
      const timeline = parseFloat(document.getElementById('timeline').value) || 0;
      const unionStatus = document.getElementById('unionStatus').value;
      const productivity = parseFloat(document.getElementById('productivity').value);
      const learningCurve = parseFloat(document.getElementById('learningCurve').value);
      const ficaRate = parseFloat(document.getElementById('ficaRate').value) / 100;
      const unemploymentRate = parseFloat(document.getElementById('unemploymentRate').value) / 100;
      const workersCompRate = parseFloat(document.getElementById('workersCompRate').value) / 100;
      const liabilityRate = parseFloat(document.getElementById('liabilityRate').value) / 100;

      // Calculate base and adjusted rates
      let baseRate = laborData.baseRates[trade];
      const unionPremium = unionStatus === 'union' ? baseRate * laborData.unionPremium : 0;
      const adjustedBaseRate = baseRate + unionPremium;
      
      // Calculate burden costs
      const ficaCost = adjustedBaseRate * ficaRate;
      const unemploymentCost = adjustedBaseRate * unemploymentRate;
      const workersCompCost = adjustedBaseRate * workersCompRate;
      const liabilityCost = adjustedBaseRate * liabilityRate;
      const burdenedRate = adjustedBaseRate + ficaCost + unemploymentCost + workersCompCost + liabilityCost;

      // Apply productivity adjustments
      const effectiveProductivity = productivity * learningCurve;
      const adjustedHours = totalHours / effectiveProductivity;
      
      // Calculate optimal crew size
      const availableHoursPerDay = timeline * laborData.standardWorkDay;
      const optimalCrewSize = Math.ceil(adjustedHours / availableHoursPerDay);
      const hoursPerWorkerPerDay = adjustedHours / (optimalCrewSize * timeline);
      
      // Calculate total cost
      const totalCost = adjustedHours * burdenedRate;

      // Overtime vs Additional Workers Analysis
      const currentCrewHours = timeline * laborData.standardWorkDay;
      const overtimeHours = Math.max(0, hoursPerWorkerPerDay - laborData.standardWorkDay);
      const regularHours = Math.min(hoursPerWorkerPerDay, laborData.standardWorkDay);
      
      const overtimeCostPerWorker = (regularHours * burdenedRate + overtimeHours * burdenedRate * laborData.overtimeMultiplier) * timeline;
      const additionalWorkerCost = adjustedHours * burdenedRate;
      
      // Update display
      document.getElementById('optimalCrew').textContent = optimalCrewSize + ' workers';
      document.getElementById('crewDetails').textContent = hoursPerWorkerPerDay.toFixed(1) + ' hours per worker per day';
      document.getElementById('totalCost').textContent = '$' + totalCost.toFixed(0);
      
      // Rate breakdown
      document.getElementById('baseRate').textContent = '$' + baseRate.toFixed(2);
      document.getElementById('unionPremium').textContent = '$' + unionPremium.toFixed(2);
      document.getElementById('ficaCost').textContent = '$' + ficaCost.toFixed(2);
      document.getElementById('unemploymentCost').textContent = '$' + unemploymentCost.toFixed(2);
      document.getElementById('workersCompCost').textContent = '$' + workersCompCost.toFixed(2);
      document.getElementById('liabilityCost').textContent = '$' + liabilityCost.toFixed(2);
      document.getElementById('burdenedRate').textContent = '$' + burdenedRate.toFixed(2);

      // Productivity details
      document.getElementById('effectiveProductivity').textContent = (effectiveProductivity * 100).toFixed(1) + '%';
      document.getElementById('adjustedHours').textContent = adjustedHours.toFixed(0);
      document.getElementById('dailyCrewHours').textContent = (optimalCrewSize * hoursPerWorkerPerDay).toFixed(1);

      // Overtime comparison
      const smallerCrew = Math.max(1, optimalCrewSize - 1);
      const overtimeForSmallerCrew = overtimeCostPerWorker * smallerCrew;
      
      document.getElementById('overtimeOption').innerHTML = `
        ${smallerCrew} workers + overtime<br>
        <strong>$${overtimeForSmallerCrew.toFixed(0)}</strong>
      `;
      
      document.getElementById('additionalWorkerOption').innerHTML = `
        ${optimalCrewSize} workers standard time<br>
        <strong>$${totalCost.toFixed(0)}</strong>
      `;

      const recommendation = overtimeForSmallerCrew < totalCost ? 
        `💡 Recommendation: Use ${smallerCrew} workers with overtime (saves $${(totalCost - overtimeForSmallerCrew).toFixed(0)})` :
        `💡 Recommendation: Use ${optimalCrewSize} workers standard time (saves $${(overtimeForSmallerCrew - totalCost).toFixed(0)})`;
      
      document.getElementById('recommendation').innerHTML = recommendation;

      // Save to calculator object
      calc.inputs = { 
        trade, totalHours, timeline, unionStatus, productivity, learningCurve,
        ficaRate: ficaRate * 100, unemploymentRate: unemploymentRate * 100,
        workersCompRate: workersCompRate * 100, liabilityRate: liabilityRate * 100
      };
      calc.results = { 
        optimalCrewSize, burdenedRate: burdenedRate.toFixed(2),
        totalCost: totalCost.toFixed(2), effectiveProductivity: (effectiveProductivity * 100).toFixed(1)
      };
    }

    function loadDefaults(type) {
      if (type === 'union') {
        document.getElementById('unionStatus').value = 'union';
        document.getElementById('trade').value = 'carpenter';
        document.getElementById('workersCompRate').value = '12.0';
      } else {
        document.getElementById('unionStatus').value = 'nonunion';
        document.getElementById('trade').value = 'laborer';
        document.getElementById('workersCompRate').value = '6.0';
      }
      calculate();
    }

    function updateBaseRate() {
      calculate();
    }

    function updateRates() {
      calculate();
    }

    function loadLastUsed() {
      if (calc.loadLastUsed()) {
        Object.keys(calc.inputs).forEach(key => {
          const element = document.getElementById(key);
          if (element) element.value = calc.inputs[key];
        });
        calculate();
      }
    }

    function saveCalculation() {
      calc.saveCalculation();
    }

    function exportCrewSchedule() {
      calc.exportCSV();
    }

    function shareCalculation() {
      calc.shareLink();
    }

    // Auto-calculate when inputs change
    document.addEventListener('input', calculate);
    document.addEventListener('change', calculate);

    // Load from URL if shared
    window.onload = function() {
      if (calc.loadFromURL()) {
        Object.keys(calc.inputs).forEach(key => {
          const element = document.getElementById(key);
          if (element) element.value = calc.inputs[key];
        });
      }
      calculate();
    };
  </script>
</main>
<script defer>
    document.getElementById('btn-print')?.addEventListener('click', () => window.print());
</script>
<script src="/assets/js/ga-init.js" defer></script>
</body>
</html>